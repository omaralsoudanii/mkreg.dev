---
title: 'Docker Linux commands'
date: '2021-07-13'
lastmod: '2021-07-13'
summary: "Incremental list of useful docker commands using Linux"
image: '/static/images/writing/linux-commands/linux-bash-docker-mkreg.jpeg'
---

![Omar Alsoudani - Linux Docker](/static/images/writing/linux-commands/linux-bash-docker-mkreg.jpeg)

## Overview

This page covers Docker specific commands on Linux. You can use it as a reference in case you want to do some task quickly, or you might find something new and beneficial when using Docker. 

Browse the full list of topics:

1.  [General Linux commands](/writing/linux-commands/general)
2.  [Docker Commands](/writing/linux-commands/docker) 
3.  [MySQL Commands](/writing/linux-commands/mysql)
4.  [MongoDB Commands](/writing/linux-commands/mongodb)
5.  [PHP Commands](/writing/linux-commands/php)



## Commands

### Docker compose

This builds the images and run their containers assuming the default compose file name is docker-compose.yml, or by specifying it's file name.

Default file name

```bash
docker-compose up  --build -d
```

Different file name

```bash
docker-compose  -f docker-compose.development.yml up  --build -d
```

Build images and run their containers while ignoring the current existing images cache (useful for multi-stage builds, when you just want to re-build everything with fresh layers)

```bash
docker-compose build  --no-cache
```

### exec command

This executes a command from a container

```bash
docker exec -it node_app npm install
```

### Exporting MySQL database

Export data from a Docker MySQL container to a directory using `mysqldump` and execute command

-    Full database structure and data

        ```bash
     docker exec -i app_mysql-server-57_1 mysqldump \ 
     -uroot -proot --databases mydb_name --skip-comments > /Documents/db.sql
        ```

-    Specified table structure and data 

        ```bash
     docker exec -i app_mysql-server-57_1 mysqldump \ 
     -uroot -proot mydb_name mytable_name > /Documents/db.sql
        ```

-    Specific table structure and data that matches a where clause

        ```bash
     docker exec app_mysql mysqldump \ 
     -uroot -proot mydb_name --tables mytable_name --where="id>5 limit 5000000" > mytable_name.sql
        ```



### SSH into a container

-    For alpine images, only sh is available 

        ```bash
     docker exec -it app_server sh
        ```

-    For other images,  bash is available

        ```bash
     docker exec -it app_server bash
        ```

### Testing config

Preview and validate a docker compose file configuration found in the specified path


```bash
docker-compose -f docker-compose.development.yml config
```

### Deleting data

Delete all stopped containers and unused images/networks/volumes and non persistent volumes and their networks

**WARNING:** Beware that all stopped containers, and unused images/networks/volumes will be deleted, so if you have something stopped but want to use it later, or you want the image cache layers, then don't do this.

```bash:Everything
docker system prune -a
```

<br/>

```bash:Networks
docker network prune
```

<br/>

```bash:Volumes
docker volume ls -qf dangling=true | xargs -r docker volume rm
```

### Tailing logs

This gets you the latest 100 line from a container

```bash
docker logs --tail 100 -f app_server
```

This finds lines that contains a phrase and print the containing line, 3 lines before it and 3 lines after it

```bash
docker logs -f --tail 10000  app_server | grep -B3 -A3 "api/users"
```

### System wide info

```bash
docker system info
```

### Disk usage

```bash:Detailed
docker system df -v
```

<br/>


```bash:Overview
docker system df
```
